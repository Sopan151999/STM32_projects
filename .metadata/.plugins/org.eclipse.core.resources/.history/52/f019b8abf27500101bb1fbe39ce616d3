/*
 * Hdl_CAN.h
 *
 *  Created on: Aug 5, 2025
 *      Author: sopan
 */

#ifndef INC_HDL_CAN_H_
#define INC_HDL_CAN_H_


#include "stm32f1xx_hal.h"
#include "globel_data.h"

#define STM_ID_0x600 0x600U
#define STM_ID_0x201 0x201U
#define STM_ID_0x102 0x102U
#define STM_ID_0x403 0x403U
#define STM_ID_0x550 0x550U
//#define STM_ID_0x561 0x561U
//#define STM_ID_0x588 0x588U
//#define STM_ID_0x589 0x589U
//#define STM_ID_0x581 0x581U

struct CAN_DATA{
	uint16_t CANID;
	uint16_t CANDLC;
	uint16_t CANmsg[8];

};



// === Global Variables ===
extern CAN_HandleTypeDef hcan;
extern CAN_TxHeaderTypeDef TxHeader;
extern CAN_RxHeaderTypeDef RxHeader;
extern uint8_t TxData[8];
extern uint8_t RxData[8];
extern uint32_t TxMailbox;
extern volatile uint8_t CAN_MessageReceived;

// === Function Prototypes ===
void CAN_Init(void);
void CAN_ConfigFilter(void);
void Handle_CAN_TX(void);
HAL_StatusTypeDef CAN_Send(uint16_t StdID, uint8_t* data, uint8_t len);


#endif /* INC_HDL_CAN_H_ */
