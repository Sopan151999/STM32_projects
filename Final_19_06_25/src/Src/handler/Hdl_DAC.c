/*************************************************************************** */
/* ************************************************************************** */
/******************************************************************************
 * File Name    : Hdl_DAC.c
 * Description  : Source file for Digital to Analog converter
 * Author       : Sopan
 * Version      : v1.0
 * Date         : [19-06-2025]
 ******************************************************************************/

/*------------------------------------------------------------------------------
 * INCLUDES
 *----------------------------------------------------------------------------*/
#include "Inc/Handler/Hdl_DAC.h"
#include "peripheral/dac/plib_dac.h"
/*------------------------------------------------------------------------------
 * PRIVATE MACROS & DEFINITIONS
 *----------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------
 * PRIVATE VARIABLES
 *----------------------------------------------------------------------------*/
volatile uint16_t gbl500Ms =0;
uint16_t val=0;


/*------------------------------------------------------------------------------
 * PRIVATE FUNCTION PROTOTYPES
 *----------------------------------------------------------------------------*/


/*------------------------------------------------------------------------------
 * FUNCTION DEFINITIONS
 *----------------------------------------------------------------------------*/
void Hdl_write_DAC_PA02(uint16_t lclval)
{
    DAC_DataWrite(lclval);
    
}
void Hdl_DAC_inc_by50(void)
{
    if (gbl500Ms >= 500) {
        gbl500Ms = 0; // optional reset if this is your timing counter

        if (val >= 1024) {
            val = 50;
        } else {
            val =val+ 50;
        }

        Hdl_write_DAC_PA02(val);  // Always update DAC
    }
}


/*------------------------------------------------------------------------------
 * PRIVATE FUNCTION DEFINITIONS
 *----------------------------------------------------------------------------*/


/* *****************************************************************************
 End of File
 */

